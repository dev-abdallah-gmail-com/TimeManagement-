@page "/tags"
@using TimeManagement.Client.Services
@inject IApiService Api
@using System.Net.Http.Json

<h3>Tags</h3>

@if (tags == null)
{
 <p><em>Loading...</em></p>
}
else
{
 <ul class="list-group">
 @foreach (var tag in tags)
 {
 <li class="list-group-item">@tag.Name (@tag.Color)</li>
 }
 </ul>
}

@code {
 private List<TagDto>? tags;
 protected override async Task OnInitializedAsync()
 {
 try
 {
 tags = await Api.GetAllTagsAsync();
 }
 catch (Exception ex)
 {
 // show empty list on error
 tags = new List<TagDto>();
 }
 }
}
